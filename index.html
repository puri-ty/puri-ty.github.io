<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Add styles made with Mapbox Studio to a Leaflet map</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'/>
    <script src='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css' rel='stylesheet'/>
    <link rel="stylesheet" href="//cdn.web-fonts.ge/fonts/alk-rex-bold/css/alk-rex-bold.min.css">
    <link rel="stylesheet" href="locomotive-scroll.css">

    <link rel="stylesheet" href="style.css">

</head>
<body>
<div id="intro" data-scroll-container>
    <div id="scroll">
        <div class="section" data-scroll-section>
            <div id="p1"> შენც, როგორც ყველას, გაქვს<br>ქალაქში საყვარელი გზა.</div>
            <div class="heroessquare" data-scroll data-scroll-sticky data-scroll-target="#intro"
                 style="background-image:url('map_sketch1.PNG')"></div>
        </div>
        <div class="section" id="section2" data-scroll-section>
            <div data-scroll style="display:flex">
                <div data-scroll data-scroll-speed="4" data-scroll-repeat="true" class="f100">ამ</div>
                <div data-scroll data-scroll-speed="4" data-scroll-repeat="true" class="f400">გზას</div>
            </div>
            <div data-scroll data-scroll-speed="2" data-scroll-repeat="true" class="f100">ირჩევ იმიტომ,</div>
            <div data-scroll data-scroll-speed="2" class="f130">რომ ყველაზე მოკლეა,</div>
        </div>


        <div class="section" data-scroll-section>
            <div class="f130" id="center">ლამაზი ხე გხვდება,
            </div>
        </div>
        <div class="section" data-scroll-section>
            <div class="f130" id="center">რომელიღაც ფანჯრის რაფაზე
                კატაა წამოწოლილი
            </div>
        </div>
        <div class="section" data-scroll-section>
            <div class="f130" id="center"> ან იმიტომ, რომ ამ გზაზე მზე ზუსტად სწორი
                კუთხით გეცემა ხოლმე.
            </div>
        </div>

        <div class="section" data-scroll-section>
            <div class="f100" id="gzasheicvalos">თუმცა, დროსთან<br>ერთად<br>ეს გზა შეიძლება<br>შეიცვალოს.</div>
        </div>
        <div class="libertysquare" data-scroll data-scroll-sticky data-scroll-target="#gzasheicvalos"
             style="background-image:url('map_sketch3.PNG')"></div>
        <div class="section" data-scroll-section>
            <div class="f130" id="center">ხე მოჭრან</div>
        </div>
        <div class="section" data-scroll-section>
            <div class="f130" id="center">კატა გაიქცეს</div>
        </div>
        <div class="section" data-scroll-section>
            <div class="f130" id="center">მზის სხივები კორპუსებმა გადაფაროს</div>
        </div>
        <div class="section" data-scroll-section>
            <div class="f100" id="center">ან ყველაფერი იგივე დარჩეს, მაგრამ გზაზე გადაგხდეს ამბავი, რომელიც მას გაუვალს
                გახდის.
            </div>
        </div>

    </div>
    <div id='map' data-scroll-sticky></div>
</div>
<div id="story1" class="story-wrapper">

</div>
<script>
    L.mapbox.accessToken = 'pk.eyJ1Ijoic29waGllZ3YiLCJhIjoiY2xkY3F2M2hiMGQ0NjNubnJlenpubXl5eCJ9.lVYFYxvKsl89G_oF850jsw';
    var map = L.map('map', {
        center: [41.7151, 44.8271],
        zoom: 13,
        scrollWheelZoom: false,
    });

    // Add tiles from the Mapbox Static Tiles API
    // (https://docs.mapbox.com/api/maps/#static-tiles)
    // Tiles are 512x512 pixels and are offset by 1 zoom level
    L.tileLayer(
        'https://api.mapbox.com/styles/v1/sophiegv/cldk73rnj002101rn4n8t7rnz/tiles/256/{z}/{x}/{y}@2x?access_token=' + L.mapbox.accessToken, {
            tileSize: 512,
            zoomOffset: -1,
            attribution: '© <a href="https://www.mapbox.com/contribute/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);
//    map.addLayer(overlay);
   // let points = [
       // {lat: 41.678767, lng: 44.921374}
    ];
    //let markers = [];
    //for (let i = 0; i < points.length; i++) {
        //markers[i] = L.marker([points[i].lat, points[i].lng]).addTo(map);
        //markers[i].bindPopup(points[i].popup);
        let point = points[i];
        markers[i].on("click", function (e) {
            overlay.setUrl(point.url);
            overlay.getElement().play();
        });
        let pin = L.icon({
            iconUrl: 'marker.png',

            iconSize:     [38, 95], // size of the icon
            iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
            popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
        });
    L.marker([41.678767, 44.921374], {icon: pin}).addTo(map);
    }
</script>
<script src="locomotive-scroll.min.js"></script>
<script>
    (function () {
        var scroll = new LocomotiveScroll({smooth: true});

    })();



</script>
</body>
</html>

